var hasTouch="ontouchstart"in window,isMobile=!1,scrollPosition=0,siteTitleTogglePosition=0,scroll=new SmoothScroll,siteNav=function(){$(".site-nav-toggle").click((function(t){if(t.preventDefault(),$(this).parent().hasClass("active"))$(this).parent().removeClass("active"),$("html").removeClass("nav-active"),scroll.animateScroll(0,$(this),{offset:10,speed:500,speedAsDuration:!0,easing:"easeInOutCubic",updateURL:!1});else{$(".site-nav .active").removeClass("active"),$(this).parent().addClass("active"),$("html").addClass("nav-active");var e=$(this).attr("href");e=document.querySelector(e),setTimeout((function(){scroll.animateScroll(e,$(this),{offset:10,speed:500,speedAsDuration:!0,easing:"easeInOutCubic",updateURL:!1})}),500)}})),$(".statement-toggle").click((function(t){if(t.preventDefault(),$("html").hasClass("nav-active"))$(".site-nav .active").removeClass("active"),$("html").removeClass("nav-active");else{var e=$(this).attr("href");e=document.querySelector(e),scroll.animateScroll(e,$(this),{offset:10,speed:500,speedAsDuration:!0,easing:"easeInOutCubic",updateURL:!1})}})),$(".site-title").click((function(t){$(".site-nav .active").removeClass("active"),$("html").removeClass("nav-active")})),$(".close a, .overlay").click((function(t){t.preventDefault(),$("html").hasClass("page-nav-active")?$("html").removeClass("page-nav-active"):$("html").addClass("page-nav-active")}))},spotlight=function(){$("a").hover((function(){$("html").addClass("content-hover")}),(function(){$("html").removeClass("content-hover")}))},drifters=function(){$(".drifter").each((function(){var t=Math.floor(90*Math.random())+5,e=Math.floor(90*Math.random())+5;$(this).css("top",e+"%").css("left",t+"%")})).click((function(t){$(t.target).parents(".drifter-content").length||t.preventDefault(),$(".drifter-active").removeClass("drifter-active"),$(this).addClass("drifter-active")})),$(document).click((function(t){var e=$(t.target);e.closest(".drifter-active").length||e.parents(".drifter-content").length||$(".drifter-active").removeClass("drifter-active")}))},lightbox=function(){$(".content img").each((function(){$(this).closest(".wp-caption").length||$(this).closest("a").unwrap().wrap('<div class="wp-caption"></div>')})),$(".wp-caption a").fancybox({buttons:["close"],idleTime:600,caption:function(t,e){return $(this).parent().find(".wp-caption-text").html()}})},video=function(){if($("html").removeClass("unmuted video-ended"),$("body").hasClass("single-tsp_videos")){var t=$(".video").get(0);if($(".video-mute a").click((function(e){e.preventDefault(),$("html").addClass("unmuted"),t.muted=!t.muted})),$(".video-next a").length)var e=new Typed(".video-next a",{strings:["to go to the lecture please click here"],typeSpeed:50,startDelay:0,backDelay:4e3,fadeOut:!0,fadeOutDelay:300,loop:!0,loopCount:1,showCursor:!1});var o=setInterval((function(){257==Math.floor(t.currentTime)&&($("html").addClass("video-ended"),clearInterval(o),e.reset())}),100);t.addEventListener("ended",(function(){$("html").addClass("hide-video")}),!1)}},highContrast=function(){$(".site-footer-contrast a").click((function(t){t.preventDefault(),"on"!=Cookies.get("highcontrast")?Cookies.set("highcontrast","on"):Cookies.set("highcontrast","off"),location.reload()})),"on"==Cookies.get("highcontrast")?($(".site-footer-contrast a").text("Reset Text Contrast"),$("html").addClass("high-contrast")):$("html").removeClass("high-contrast")};document.addEventListener("turbolinks:load",(function(){$("html").removeClass("nav-active page-nav-active"),1==hasTouch?$("html").addClass("touch"):$("html").addClass("no-touch"),$.bigfoot(),highContrast(),siteNav(),spotlight(),drifters(),lightbox(),video(),siteTitleTogglePosition=$(".site-title .statement-toggle-indicator").offset(),setTimeout((function(){$("html").removeClass("loading")}),100)})),document.addEventListener("turbolinks:click",(function(t){$("html").addClass("loading")})),$(window).scroll((function(){(scrollPosition=$(document).scrollTop())>=siteTitleTogglePosition.top?$("html").addClass("site-title-sticky"):$("html").removeClass("site-title-sticky")}));var $mouseX=0,$mouseY=0,$xp=0,$yp=0;$(window).mousemove((function(t){$mouseX=t.clientX,$mouseY=t.clientY}));var $loop=setInterval((function(){$xp+=($mouseX-$xp)/16,$yp+=($mouseY-$yp)/16,$(".cursor").css({left:$xp+"px",top:$yp+"px"})}),30);